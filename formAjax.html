<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Ajax form</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>


</head>
<body>
<h1>This is my form</h1>


<form id="myForm" onsubmit="return false"; >
<input type="Text" name="teams" value="Teams @"> 
<input type="checkbox" name="teams" value="Tweets"> Tweets
<input type="checkbox" name="teams" value="Mentions" checked="checked"> Mentions
<br><br>
<input type="Text" name="teams" value="Players @"> 
<input type="checkbox" name="teams" value="Bike"> Tweets
<input type="checkbox" name="teams" value="Car" checked="checked"> Mentions
<br><br>
<input type="Text" name="teams" value="Search Trending Hastags"> 
<br><br>
<input type="Text" name="teams" value="Search via keywords"> 
<br><br>
<button id="Search">Search</button>
</form>

<script>

    function sendAjaxQuery(url, data) {
        $.ajax({
            type: 'POST',
            url: 'postFile.html',
            data: data,
            success: function (data) {
                alert('success '+data);
                var struct= JSON.parse(data);
            },
            error: function (xhr, status, error) {
                console.log('Error: ' + error.message);
               alert('error connecting');
            }
        });
    }


    $.fn.serializeObject = function () {
        var o = {};
        var a = this.serializeArray();
        $.each(a, function () {
            if (o[this.name] !== undefined) {
                if (!o[this.name].push) {
                    o[this.name] = [o[this.name]];
                }
                o[this.name].push(this.value || '');
            } else {
                o[this.name] = this.value || '';
            }
        });
        return o;
    };

    function sendData() {
        var form = document.getElementById('myForm');
        sendAjaxQuery('http://localhost:3000/', JSON.stringify($('form').serializeObject()));
    }


    var sendButton = document.getElementById('sendButton');
    sendButton.onclick = sendData;

</script>


</body>
</html>
